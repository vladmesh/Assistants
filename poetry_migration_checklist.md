# Чеклист миграции на Poetry

## 1. Корневой pyproject.toml

### 1.1 Проверка зависимостей
- [x] Проверить все зависимости в [tool.poetry.dependencies]
- [x] Убедиться, что все зависимости используются всеми сервисами
- [x] Удалить неиспользуемые зависимости
- [x] Проверить версии зависимостей на совместимость

### 1.2 Проверка dev-зависимостей
- [x] Проверить все dev-зависимости
- [x] Убедиться, что все инструменты разработки актуальны
- [x] Проверить настройки линтеров и форматтеров

### 1.3 Проверка test-зависимостей
- [x] Проверить все test-зависимости
- [x] Убедиться, что все инструменты тестирования актуальны

## 2. Миграция сервисов

### 2.1 assistant_service
- [x] Создан pyproject.toml
- [x] Проверены и удалены дублирующие зависимости
- [x] Подключен shared_models
- [x] Обновлены импорты на использование shared_models
- [x] Проверена сборка в Docker
- [x] Проверена тестовая сборка
- [x] Проверена работа сервиса

### 2.2 rest_service
- [x] Создан pyproject.toml
- [x] Проверены и удалены дублирующие зависимости
- [x] Подключен shared_models
- [x] Обновлены импорты на использование shared_models
- [x] Проверена сборка в Docker
- [x] Проверена тестовая сборка
- [x] Проверена работа сервиса

### 2.3 google_calendar_service
- [x] Создан pyproject.toml
- [x] Проверены и удалены дублирующие зависимости
- [x] Подключен shared_models
- [x] Обновлены импорты на использование shared_models
- [x] Проверена сборка в Docker
- [x] Проверена тестовая сборка
- [x] Проверена работа сервиса

### 2.4 cron_service
- [ ] Создан pyproject.toml
- [ ] Проверены и удалены дублирующие зависимости
- [ ] Подключен shared_models
- [ ] Обновлены импорты на использование shared_models
- [ ] Проверена сборка в Docker
- [ ] Проверена тестовая сборка
- [ ] Проверена работа сервиса

### 2.5 telegram_bot_service
- [ ] Создан pyproject.toml
- [ ] Проверены и удалены дублирующие зависимости
- [ ] Подключен shared_models
- [ ] Обновлены импорты на использование shared_models
- [ ] Проверена сборка в Docker
- [ ] Проверена тестовая сборка
- [ ] Проверена работа сервиса

## 3. Проверка Docker-сборок

### 3.1 Продуктовая сборка
- [x] Проверить размер образов
- [x] Проверить время сборки
- [x] Проверить работу всех сервисов
- [x] Проверить взаимодействие между сервисами

### 3.2 Тестовая сборка
- [x] Проверить работу тестов
- [x] Проверить покрытие кода
- [x] Проверить работу линтеров

## 4. Документация

### 4.1 Обновление README
- [ ] Добавить инструкции по установке
- [ ] Описать процесс разработки
- [ ] Добавить примеры использования

### 4.2 Документация по миграции
- [ ] Описать процесс миграции для новых сервисов
- [ ] Добавить примеры конфигурации
- [ ] Описать лучшие практики

## 5. CI/CD

### 5.1 GitHub Actions
- [ ] Обновить workflow для использования Poetry
- [ ] Проверить работу тестов в CI
- [ ] Проверить работу линтеров в CI

### 5.2 Pre-commit хуки
- [x] Настроить pre-commit хуки

## Текущий статус

### Завершено
- [x] Создан корневой pyproject.toml
- [x] Создан shared_models
- [x] Создан pyproject.toml для assistant_service
- [x] Удалены дублирующие зависимости в assistant_service
- [x] Подключен shared_models в assistant_service
- [x] Обновлены импорты в assistant_service для использования shared_models
- [x] Настроен Docker для работы с shared_models
- [x] Создан pyproject.toml для rest_service
- [x] Удалены дублирующие зависимости в rest_service
- [x] Подключен shared_models в rest_service
- [x] Обновлены импорты в rest_service для использования shared_models
- [x] Настроен Docker для работы с shared_models в rest_service
- [x] Создан pyproject.toml для google_calendar_service
- [x] Удалены дублирующие зависимости в google_calendar_service
- [x] Подключен shared_models в google_calendar_service
- [x] Обновлены импорты в google_calendar_service для использования shared_models
- [x] Настроен Docker для работы с shared_models в google_calendar_service

### В процессе
- [ ] Миграция остальных сервисов

### Ожидает
- [ ] Обновление документации
- [ ] Обновление CI/CD 