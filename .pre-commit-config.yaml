repos:
  - repo: local
    hooks:
      - id: make-format
        name: make format
        entry: bash -c "make format && git add -u"
        language: system
        stages: [commit]
        pass_filenames: false
      - id: make-lint-test-unit
        name: make lint-fast && make test-unit-changed
        entry: bash -c "make lint-fast && make test-unit-changed"
        language: system
        stages: [push]
        always_run: true
        pass_filenames: false
